buildscript {
	repositories {
		mavenCentral()
	}
	dependencies {
		classpath 'org.junit.platform:junit-platform-gradle-plugin:1.0.0-M2'
	}
}

apply plugin: 'org.junit.platform.gradle.plugin'

mainClassName = 'io.gitlab.arturbosch.detekt.cli.Main'

junitPlatform {
	engines {
		include 'spek'
	}
}

configurations {
	compile.extendsFrom kotlin
	testCompile.extendsFrom kotlinTest
//	testRuntime.extendsFrom junitPlatform
}

dependencies {
	compile project(':detekt-core')
	compile project(':detekt-rules')
	compile project(':detekt-api')
	compile "com.beust:jcommander:1.48"
	testRuntime "org.junit.platform:junit-platform-launcher:$junitPlatformVersion"
	testRuntime "org.jetbrains.spek:spek-junit-platform-engine:$spekVersion"
}
